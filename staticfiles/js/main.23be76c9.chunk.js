(this.webpackJsonpcs_go_ui=this.webpackJsonpcs_go_ui||[]).push([[0],{163:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),i=n(36),s=n.n(i),l=n(49),r=n(8),o=(n(37),n(17)),j=n.n(o),d=n(14),b=n(220),u=n(223),m=n(222),x=n(224),h=n(171),O=n(212),p=n(105),v=n.n(p),f=n(221),g=n(217),_=n(216),k=n(210),N=n(215),w=n(87),y=n.n(w),C=n(0);function S(e){var t,n,c=e.signIn,i=e.exit_acc,s=e.logged_in,l=e.account,o=a.useState(null),j=Object(r.a)(o,2),p=j[0],w=j[1],S=a.useState(null),z=Object(r.a)(S,2),E=z[0],F=z[1],D=function(){F(null)},I=Object(d.g)();return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(b.a,{position:"static",children:Object(C.jsx)(f.a,{maxWidth:"xl",children:Object(C.jsxs)(m.a,{disableGutters:!0,children:[Object(C.jsx)(y.a,{sx:{display:{xs:"none",md:"flex"},mr:1}}),Object(C.jsx)(h.a,{variant:"h6",noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"MY SITE"}),Object(C.jsxs)(u.a,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[Object(C.jsx)(x.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){w(e.currentTarget)},color:"inherit",children:Object(C.jsx)(v.a,{})}),Object(C.jsx)(O.a,{id:"menu-appbar",anchorEl:p,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(p),onClose:function(){w(null)},sx:{display:{xs:"block",md:"none"}}})]}),Object(C.jsx)(y.a,{sx:{display:{xs:"flex",md:"none"},mr:1}}),Object(C.jsx)(h.a,{variant:"h5",noWrap:!0,component:"a",href:"",sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"}}),Object(C.jsxs)(u.a,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:[Object(C.jsx)(_.a,{onClick:function(){return I("/comment/")},sx:{my:2,color:"white",fontSize:16,display:"block"},children:Object(C.jsx)("b",{children:"\u041e\u0442\u0437\u044b\u0432\u044b"})}),s&&Object(C.jsx)(_.a,{onClick:function(){return I("/help/")},sx:{my:2,color:"white",fontSize:16,display:"block"},children:Object(C.jsx)("b",{children:"\u041f\u043e\u043c\u043e\u0449\u044c"})}),s&&Object(C.jsx)(_.a,{onClick:function(){return I("/market/")},sx:{my:2,color:"white",fontSize:16,display:"block"},children:Object(C.jsx)("b",{children:"\u041f\u0440\u043e\u0434\u0430\u0442\u044c \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u044b"})})]}),Object(C.jsxs)(u.a,{sx:{flexGrow:0,color:"white",fontSize:18},children:[s&&Object(C.jsxs)("b",{children:[null===l||void 0===l||null===(t=l.extra_data)||void 0===t?void 0:t.personaname," "]}),!s&&Object(C.jsx)(_.a,{variant:"contained",color:"secondary",onClick:c,children:"\u0412\u043e\u0439\u0442\u0438"}),s&&Object(C.jsx)(k.a,{title:"\u041d\u0430\u0436\u043c\u0438",children:Object(C.jsx)(x.a,{onClick:function(e){F(e.currentTarget)},sx:{p:0},children:Object(C.jsx)(g.a,{alt:"Remy Sharp",src:null===l||void 0===l||null===(n=l.extra_data)||void 0===n?void 0:n.avatar})})}),Object(C.jsxs)(O.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:E,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(E),onClose:D,children:[Object(C.jsx)(N.a,{onClick:D,children:Object(C.jsx)(h.a,{textAlign:"center",children:s&&Object(C.jsx)("span",{onClick:function(){return I("/account/")},children:"\u041a\u0430\u0431\u0438\u043d\u0435\u0442"})})}),Object(C.jsx)(N.a,{onClick:D,children:Object(C.jsx)(h.a,{textAlign:"center",children:s&&Object(C.jsx)("span",{onClick:i,children:"\u0412\u044b\u0439\u0442\u0438"})})})]})]})]})})})})}function z(e){var t=e.logged_in;return Object(C.jsxs)(C.Fragment,{children:[!t&&Object(C.jsx)("div",{className:"first-view-logged",children:Object(C.jsx)("div",{className:"back-first-view",children:Object(C.jsx)("span",{className:"first-view-text",children:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})}),t&&Object(C.jsx)("div",{className:"first-view-logged",children:Object(C.jsx)("div",{className:"back-first-view",children:Object(C.jsx)("span",{className:"first-view-text",children:"\u041c\u043e\u0436\u043d\u043e \u043d\u0430\u0447\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443 \u0441 \u0441\u0430\u0439\u0442\u043e\u043c"})})})]})}var E=n(15),F=n(66),D=n(19),I=n.n(D),M=n(27);function B(e){var t=e.skin,n=e.clickSkin;return Object(C.jsxs)("div",{onClick:function(){return n(t.id)},className:t.checked?"item checked":"item",children:[Object(C.jsxs)("span",{className:"item-price",children:[t.price," \u20bd"]}),Object(C.jsx)("img",{className:"icon",alt:"dsdsd",src:"http://steamcommunity-a.akamaihd.net/economy/image/"+t.icon_url}),Object(C.jsx)("span",{className:"item-name",children:t.market_name})]})}function T(e){var t=e.default_link_market,n=e.logged_in_market,c=Object(a.useState)(),i=Object(r.a)(c,2),s=i[0],l=i[1],o=Object(a.useMemo)((function(){return localStorage.getItem("inventory")}),[]),b=Object(a.useState)([]),u=Object(r.a)(b,2),m=u[0],x=u[1],h=Object(a.useState)(),O=Object(r.a)(h,2),p=O[0],v=O[1],f=Object(a.useMemo)((function(){return m.filter((function(e){return e.checked}))}),[m]),g=[],k=[],N=Object(a.useState)(),w=Object(r.a)(N,2),y=w[0],S=w[1],z=Object(a.useMemo)((function(){var e=0;return f.forEach((function(t){return e+=Number(t.price)})),e}),[f]),D=Object(a.useCallback)(Object(M.a)(I.a.mark((function e(){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(t,"api/inventory/"),{withCredentials:!0});case 2:n=e.sent,0!==Object.keys(n.data).length&&(localStorage.setItem("inventory",JSON.stringify(n)),S(n.data));case 4:case"end":return e.stop()}}),e)}))),[t]);Object(a.useEffect)((function(){var e;o?(S(null===(e=JSON.parse(o))||void 0===e?void 0:e.data),0===Object.keys(JSON.parse(o).data).length&&D()):D()}),[D,o]),Object(a.useEffect)((function(){for(var e in null===y||void 0===y?void 0:y.rgDescriptions)k.push(y.rgDescriptions[e]);for(var t in null===y||void 0===y?void 0:y.rgInventory)g.push(y.rgInventory[t]);var n=g.map((function(e){for(var t=0;t<k.length;t++)if(e.instanceid===k[t].instanceid&&e.classid===k[t].classid&&k[t].tradable)return k[t].checked=!1,Object(F.a)({},k[t]);return null})).filter((function(e){return null!=e})),a=0;n.forEach((function(e){e.id=a,a+=1})),x(n)}),[y]);var T=function(e){m.find((function(t,n){if(t.id==e){var a=Object(E.a)(m);return a[n].checked=!a[n].checked,x(a),null}}))};return Object(C.jsxs)("div",{className:"sell-page",children:[!n&&Object(C.jsx)(d.a,{replace:!0,to:"/"}),Object(C.jsxs)("div",{className:"modal-items",children:[Object(C.jsxs)("div",{className:"modal-header",children:[Object(C.jsx)("img",{className:"steam-icon",alt:"dsdd",src:"https://avan.market/templates/frontend/default/images/steam-icon-skins.svg"}),Object(C.jsxs)("span",{className:"text-with-icon",children:[Object(C.jsx)("b",{children:"\u0412\u0430\u0448"})," \u0438\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u044c"]})]}),Object(C.jsxs)("div",{className:"link",children:[Object(C.jsx)("span",{className:"input-your-link",children:"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0441\u0432\u043e\u044e \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u043e\u0431\u043c\u0435\u043d:"}),Object(C.jsx)("input",{type:"text",onChange:function(e){return v(e.target.value)},className:"input-link",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043e\u0431\u043c\u0435\u043d"}),Object(C.jsx)("div",{children:" "}),Object(C.jsx)(_.a,{className:"save-offer-link",onClick:function(){j.a.post("".concat(t,"api/trade_url/"),{trade_url:p},{withCredentials:!0})},variant:"contained",color:"success",children:"\u0421\u041e\u0425\u0420\u0410\u041d\u0418\u0422\u042c"})]}),Object(C.jsx)("div",{className:"items",children:m.map((function(e){return Object(C.jsx)(B,{clickSkin:T,skin:e},Math.random())}))}),Object(C.jsxs)("div",{className:"selected",children:["\u0412\u044b\u0431\u0440\u0430\u043d\u043e: ",f.length,Object(C.jsx)(_.a,{variant:"contained",onClick:D,size:"small",color:"success",children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"})]})]}),Object(C.jsxs)("div",{className:"modal-items",children:[Object(C.jsxs)("div",{className:"modal-header",children:[Object(C.jsx)("img",{className:"steam-icon",alt:"sdsds",src:"https://avan.market/templates/frontend/default/images/steam-icon-skins.svg"}),Object(C.jsxs)("span",{className:"text-with-icon",children:[Object(C.jsx)("b",{children:"\u0412\u044b"})," \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435"]})]}),Object(C.jsx)("div",{className:"amount",children:Object(C.jsxs)("span",{children:[Object(C.jsx)("span",{className:"dash"}),Object(C.jsx)("span",{className:"cost",children:z}),Object(C.jsx)("span",{className:"cur",children:"\u20bd"})]})}),Object(C.jsx)("div",{className:"line"}),Object(C.jsxs)("div",{className:"method",children:[Object(C.jsx)("div",{className:"name",children:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0435 \u0441\u043f\u043e\u0441\u043e\u0431\u044b \u043e\u043f\u043b\u0430\u0442\u044b"}),Object(C.jsxs)("div",{className:"payment-list",children:[Object(C.jsx)("div",{className:"payment visa"}),Object(C.jsx)("div",{className:"payment qiwi"})]})]}),Object(C.jsxs)("div",{className:"fields",children:[Object(C.jsx)("div",{className:"text-total-desc",children:"\u041f\u043b\u0430\u0442\u0435\u0436\u043d\u044b\u0435 \u0440\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b"}),Object(C.jsx)("input",{type:"text",className:"email",placeholder:"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b",onChange:function(e){return l(e.target.value)}}),Object(C.jsx)("div",{className:"text-total-desc",children:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430"}),Object(C.jsx)("input",{type:"text",className:"email",placeholder:"E-mail",onChange:function(e){return l(e.target.value)}})]}),Object(C.jsx)(_.a,{className:"get-money",variant:"contained",onClick:function(){j.a.post("".concat(t,"api/history/"),{object_name:f.map((function(e){return e.market_hash_name})),total_price:z,wallet:s},{withCredentials:!0})},color:"success",children:"\u041f\u041e\u041b\u0423\u0427\u0418\u0422\u042c \u0414\u0415\u041d\u042c\u0413\u0418"})]})]})}var L=Object(a.memo)(T),G=n(218),J=n(214),W=n(227),A=n(228),H=n(209),q=n(226),R=n(229);function Y(e){var t,n,c=e.account,i=e.default_link_comment,s=Object(a.useState)(!1),l=Object(r.a)(s,2),o=l[0],d=l[1],b=function(){d(!1)},u=Object(a.useState)(0),m=Object(r.a)(u,2),x=m[0],h=m[1],O=Object(a.useState)(""),p=Object(r.a)(O,2),v=p[0],f=p[1];function g(e){h(e.target.value)}return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"comment-main",children:[Object(C.jsx)("div",{className:"comment-main-head",children:Object(C.jsx)("p",{className:"textComment",children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"})}),Object(C.jsxs)("div",{className:"account-data",children:[Object(C.jsx)("img",{src:null===c||void 0===c||null===(t=c.extra_data)||void 0===t?void 0:t.avatar,className:"signIn_button"}),Object(C.jsx)("div",{className:"textComment",children:null===c||void 0===c||null===(n=c.extra_data)||void 0===n?void 0:n.personaname})]}),Object(C.jsxs)("div",{className:"comment__main",children:[Object(C.jsx)("textarea",{className:"comment-input",placeholder:"\u041e\u0442\u0437\u044b\u0432",maxlength:"255",onChange:function(e){return f(e.target.value)}}),Object(C.jsx)("div",{className:"textComment",children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"}),Object(C.jsxs)("div",{className:"main-value",children:[Object(C.jsx)("input",{type:"radio",id:"value5",name:"rating",value:"5",onChange:g}),Object(C.jsx)("label",{for:"value5",title:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \xab5\xbb"}),Object(C.jsx)("input",{type:"radio",id:"value4",name:"rating",value:"4",onChange:g}),Object(C.jsx)("label",{for:"value4",title:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \xab4\xbb"}),Object(C.jsx)("input",{type:"radio",id:"value3",name:"rating",value:"3",onChange:g}),Object(C.jsx)("label",{for:"value3",title:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \xab3\xbb"}),Object(C.jsx)("input",{type:"radio",id:"value2",name:"rating",value:"2",onChange:g}),Object(C.jsx)("label",{for:"value2",title:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \xab2\xbb"}),Object(C.jsx)("input",{type:"radio",id:"value",name:"rating",value:"1",onChange:g}),Object(C.jsx)("label",{for:"value",title:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \xab1\xbb"})]}),Object(C.jsx)("div",{className:"button-on-send",children:Object(C.jsx)(_.a,{variant:"contained",color:"success",onClick:function(){v&&0!=x?(j.a.post("".concat(i,"api/comments/"),{comment_text:v,rating:x,id:null===c||void 0===c?void 0:c.id}),alert("\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e")):d(!0)},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})]}),Object(C.jsx)("div",{children:o&&Object(C.jsxs)(q.a,{open:o,onClose:b,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(C.jsx)(H.a,{id:"alert-dialog-title",children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430"}),Object(C.jsx)(W.a,{children:Object(C.jsx)(A.a,{id:"alert-dialog-description",children:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f"})}),Object(C.jsx)(R.a,{children:Object(C.jsx)(_.a,{onClick:b,autoFocus:!0,children:"\u041e\u041a"})})]})})]})}function K(e){var t,n,c=e.com,i=new Date(null===c||void 0===c?void 0:c.date_time).toLocaleTimeString(),s=Object(a.useState)(0),l=Object(r.a)(s,2);l[0],l[1];var o=new Date(null===c||void 0===c?void 0:c.date_time).toLocaleDateString();return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"user__comment",children:[Object(C.jsx)("img",{className:"signIn_button",src:null===c||void 0===c||null===(t=c.user)||void 0===t?void 0:t.avatar}),Object(C.jsx)("span",{className:"comment-img",children:null===c||void 0===c||null===(n=c.user)||void 0===n?void 0:n.personaname}),Object(C.jsxs)("div",{children:[o," ",i]}),Object(C.jsx)("button",{onClick:function(){var e;return window.open(null===c||void 0===c||null===(e=c.user)||void 0===e?void 0:e.profileurl)},className:"on-profile",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(C.jsx)("p",{children:null===c||void 0===c?void 0:c.comment_text}),Object(C.jsxs)("p",{children:['\u041e\u0446\u0435\u043d\u043a\u0430:"',null===c||void 0===c?void 0:c.rating,'"']})]})})}function P(e){var t=e.account,n=e.default_link_comment,c=e.logged_in_comment,i=Object(a.useState)([]),s=Object(r.a)(i,2),l=s[0],o=s[1],d=Object(a.useState)(1),b=Object(r.a)(d,2),u=b[0],m=b[1],x=Object(a.useMemo)((function(){return l.filter((function(e,t){return Math.ceil((t+1)/4)==u}))}),[u,l]);return Object(a.useEffect)(Object(M.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,j.a.get("".concat(n,"api/comments/"),{withCredentials:!0});case 3:e.t1=e.sent.data,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"comment",children:[c&&Object(C.jsx)(Y,{account:t,default_link_comment:n}),Object(C.jsx)("div",{className:"commentlist",children:x.map((function(e){return Object(C.jsx)(K,{com:e})}))})]}),Object(C.jsx)("div",{className:"pagination",children:Object(C.jsx)(G.a,{count:Math.ceil(l.length/4)||1,page:u,onChange:function(e,t){m(t)},color:"primary",renderItem:function(e){return Object(C.jsx)(J.a,Object(F.a)({},e))}})})]})}var Q=n(232),U=n(233),V=n(231),X=n(230),Z=n(225),$=n(236),ee=n(71),te=n.n(ee),ne=n(70),ae=n.n(ne),ce=n(107),ie=n.n(ce),se=n(106),le=n.n(se),re=n(108),oe=n.n(re);function je(e){var t=e._object,n=e.account,c=e.default_link,i=a.useState(!1),s=Object(r.a)(i,2),l=s[0],o=s[1];var d=function(){var e=Object(M.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.a.put("".concat(c,"api/history/"),{id:t.id});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(M.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.a.patch("".concat(c,"api/history/"),{id:t.id});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(C.jsxs)(a.Fragment,{children:[Object(C.jsxs)(X.a,{sx:{"& > *":{borderBottom:"unset"}},children:[Object(C.jsx)(V.a,{children:Object(C.jsx)(x.a,{"aria-label":"expand row",size:"small",onClick:function(){return o(!l)},children:l?Object(C.jsx)(ae.a,{id:"arrow"}):Object(C.jsx)(te.a,{id:"arrow"})})}),Object(C.jsx)(V.a,{id:"table-items",component:"th",scope:"row",children:"\u041f\u0440\u043e\u0434\u0430\u0436\u0430"}),Object(C.jsx)(V.a,{id:"table-items",align:"left",children:new Date(null===t||void 0===t?void 0:t.date_time).toLocaleDateString()+" | "+new Date(null===t||void 0===t?void 0:t.date_time).toLocaleTimeString()}),Object(C.jsxs)(V.a,{id:"table-items",align:"right",children:[t.total_price," \u20bd"]}),Object(C.jsx)(V.a,{id:"table-items",align:"right",children:t.wallet}),Object(C.jsx)(V.a,{id:"table-items",align:"right",children:function(e){return e.is_ok||e.is_cancel?e.is_ok?Object(C.jsx)(ie.a,{color:"success"}):Object(C.jsx)(oe.a,{color:"error"}):Object(C.jsx)(le.a,{color:"success"})}(t)}),n.is_admin&&Object(C.jsxs)(V.a,{id:"table-items",align:"right",children:[Object(C.jsx)(_.a,{variant:"contained",color:"success",size:"small",onClick:b,children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"}),Object(C.jsx)("span",{children:" "}),Object(C.jsx)(_.a,{variant:"contained",color:"error",size:"small",onClick:d,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]}),Object(C.jsx)(X.a,{children:Object(C.jsx)(V.a,{style:{paddingBottom:0,paddingTop:0},colSpan:7,children:Object(C.jsx)($.a,{in:l,timeout:"auto",unmountOnExit:!0,children:Object(C.jsxs)(u.a,{sx:{margin:1},children:[Object(C.jsx)(h.a,{id:"table-items",variant:"h6",gutterBottom:!0,component:"div",children:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u0430"}),Object(C.jsx)(Q.a,{size:"small","aria-label":"purchases",children:Object(C.jsx)(U.a,{children:t.object_name.map((function(e){return Object(C.jsx)(X.a,{some_id:e,children:Object(C.jsx)(V.a,{id:"table-items",component:"th",scope:"row",children:e})})}))})})]})})})})]})}var de=n(234),be=n(235);function ue(e){var t=e.default_link_lk,n=e.logged_in_lk,c=e.account,i=Object(a.useState)([]),s=Object(r.a)(i,2),l=s[0],o=s[1];Object(a.useEffect)((function(){b()}),[]);var b=function(){var e=Object(M.a)(I.a.mark((function e(){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(t,"api/history/"),{withCredentials:!0});case 2:n=e.sent,o(n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(C.jsxs)(C.Fragment,{children:[!n&&Object(C.jsx)(d.a,{replace:!0,to:"/"}),Object(C.jsx)("h1",{children:"\u0418\u0421\u0422\u041e\u0420\u0418\u042f \u0421\u0414\u0415\u041b\u041e\u041a"}),Object(C.jsx)(de.a,{sx:{width:"85%",margin:"auto",maxHeight:700,background:"#2A2833"},component:Z.a,children:Object(C.jsxs)(Q.a,{size:"large","aria-label":"collapsible table",children:[Object(C.jsx)(be.a,{children:Object(C.jsxs)(X.a,{children:[Object(C.jsx)(V.a,{}),Object(C.jsx)(V.a,{id:"table-items",children:Object(C.jsx)("b",{children:"\u0422\u0438\u043f"})}),Object(C.jsx)(V.a,{id:"table-items",align:"left",children:Object(C.jsx)("b",{children:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f"})}),Object(C.jsx)(V.a,{id:"table-items",align:"right",children:Object(C.jsx)("b",{children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"})}),Object(C.jsx)(V.a,{id:"table-items",align:"right",children:Object(C.jsx)("b",{children:"\u041a\u043e\u0448\u0435\u043b\u0435\u043a"})}),Object(C.jsx)(V.a,{id:"table-items",align:"right",children:Object(C.jsx)("b",{children:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435"})}),c.is_admin&&Object(C.jsx)(V.a,{id:"table-items",align:"right",children:Object(C.jsx)("b",{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435"})})]})}),Object(C.jsx)(U.a,{children:l.map((function(e){return Object(C.jsx)(je,{some_id:e.id,_object:e,account:c,default_link:t})}))})]})})]})}function me(e){var t=e._object,n=a.useState(!1),c=Object(r.a)(n,2),i=c[0],s=c[1];return Object(C.jsxs)(a.Fragment,{children:[Object(C.jsxs)(X.a,{sx:{"& > *":{borderBottom:"unset"}},children:[Object(C.jsx)(V.a,{children:Object(C.jsx)(x.a,{"aria-label":"expand row",size:"small",onClick:function(){return s(!i)},children:i?Object(C.jsx)(ae.a,{id:"arrow"}):Object(C.jsx)(te.a,{id:"arrow"})})}),Object(C.jsx)(V.a,{id:"table-items",component:"th",scope:"row",children:"\u041f\u043e\u043c\u043e\u0449\u044c"}),Object(C.jsx)(V.a,{id:"table-items",align:"left",children:new Date(null===t||void 0===t?void 0:t.date).toLocaleDateString()+" | "+new Date(null===t||void 0===t?void 0:t.date).toLocaleTimeString()}),Object(C.jsx)(V.a,{id:"table-items",align:"left",children:t.email})]}),Object(C.jsx)(X.a,{children:Object(C.jsx)(V.a,{style:{paddingBottom:0,paddingTop:0},colSpan:7,children:Object(C.jsx)($.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(C.jsxs)(u.a,{sx:{margin:1},children:[Object(C.jsx)(h.a,{id:"table-items",variant:"h6",gutterBottom:!0,component:"div",children:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"}),Object(C.jsx)(Q.a,{size:"small","aria-label":"purchases",children:Object(C.jsx)(U.a,{children:Object(C.jsx)(X.a,{children:Object(C.jsx)(V.a,{id:"table-items",component:"th",scope:"row",children:t.text_message})})})})]})})})})]})}function xe(e){var t,n,c=e.account,i=e.default_link_help,s=Object(a.useState)([]),l=Object(r.a)(s,2),o=l[0],d=l[1],b=Object(a.useState)(""),u=Object(r.a)(b,2),m=u[0],x=u[1],h=Object(a.useState)(""),O=Object(r.a)(h,2),p=O[0],v=O[1],f=function(){w(!1)},g=Object(a.useState)(!1),k=Object(r.a)(g,2),N=k[0],w=k[1];Object(a.useEffect)((function(){y()}),[]);var y=function(){var e=Object(M.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(i,"api/send-tech-help/"),{withCredentials:!0});case 2:t=e.sent,d(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(C.jsxs)(C.Fragment,{children:[!c.is_admin&&Object(C.jsxs)("div",{className:"help",children:[Object(C.jsxs)("div",{className:"comment-main",children:[Object(C.jsx)("div",{className:"comment-main-head",children:Object(C.jsx)("p",{className:"textComment",children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"})}),Object(C.jsxs)("div",{className:"account-data",children:[Object(C.jsx)("img",{src:null===c||void 0===c||null===(t=c.extra_data)||void 0===t?void 0:t.avatar,className:"signIn_button"}),Object(C.jsx)("div",{className:"textComment",children:null===c||void 0===c||null===(n=c.extra_data)||void 0===n?void 0:n.personaname})]}),Object(C.jsxs)("div",{className:"comment__main",children:[Object(C.jsx)("textarea",{className:"comment-input",placeholder:"\u041e\u0442\u0437\u044b\u0432",maxlength:"255",onChange:function(e){return x(e.target.value)}}),Object(C.jsx)("input",{type:"text",className:"email",placeholder:"E-mail",onChange:function(e){return v(e.target.value)}}),Object(C.jsx)("div",{className:"button-on-send",children:Object(C.jsx)(_.a,{variant:"contained",color:"success",onClick:function(){m&&0!=p?j.a.post("".concat(i,"api/send-tech-help/"),{text_message:m,email:p,id:null===c||void 0===c?void 0:c.id}):w(!0)},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})]}),Object(C.jsx)("div",{children:N&&Object(C.jsxs)(q.a,{open:N,onClose:f,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(C.jsx)(H.a,{id:"alert-dialog-title",children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430"}),Object(C.jsx)(W.a,{children:Object(C.jsx)(A.a,{id:"alert-dialog-description",children:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f"})}),Object(C.jsx)(R.a,{children:Object(C.jsx)(_.a,{onClick:f,autoFocus:!0,children:"\u041e\u041a"})})]})})]}),c.is_admin&&Object(C.jsx)(de.a,{sx:{width:"60%",margin:"auto",maxHeight:700,background:"#2A2833"},component:Z.a,children:Object(C.jsxs)(Q.a,{size:"large","aria-label":"collapsible table",children:[Object(C.jsx)(be.a,{children:Object(C.jsxs)(X.a,{children:[Object(C.jsx)(V.a,{}),Object(C.jsx)(V.a,{id:"table-items",children:Object(C.jsx)("b",{children:"\u0422\u0438\u043f"})}),Object(C.jsx)(V.a,{id:"table-items",align:"left",children:Object(C.jsx)("b",{children:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f"})}),Object(C.jsx)(V.a,{id:"table-items",align:"left",children:Object(C.jsx)("b",{children:"Email"})})]})}),Object(C.jsx)(U.a,{children:o.map((function(e){return Object(C.jsx)(me,{_object:e,account:c})}))})]})})]})}function he(e){var t=e.default_link,n=e.account,a=e.logged_in;return Object(C.jsxs)(d.d,{children:[Object(C.jsx)(d.b,{path:"/",element:Object(C.jsx)(z,{logged_in:a})}),Object(C.jsx)(d.b,{path:"/account",element:Object(C.jsx)(ue,{logged_in_lk:a,default_link_lk:t,account:n})}),Object(C.jsx)(d.b,{path:"/market",element:Object(C.jsx)(L,{logged_in_market:a,default_link_market:t})}),Object(C.jsx)(d.b,{path:"/help",element:Object(C.jsx)(xe,{logged_in_help:a,default_link_help:t,account:n})}),Object(C.jsx)(d.b,{path:"/comment",element:Object(C.jsx)(P,{logged_in_comment:a,default_link_comment:t,account:n})})]})}var Oe="https://sellobjects.herokuapp.com/";function pe(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)({}),s=Object(r.a)(i,2),l=s[0],o=s[1];return Object(a.useEffect)((function(){j.a.get("".concat(Oe,"api/me/"),{withCredentials:!0}).then((function(e){o(e.data),c(!0)})).catch((function(){c(!1)}))}),[]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(S,{signIn:function(){window.location.href="".concat(Oe,"accounts/steam/login/")},exit_acc:function(){j.a.get("".concat(Oe,"accounts/logout/"),{withCredentials:!0}).then((function(){c(!1),o({}),localStorage.clear()})).catch((function(){c(!1),o({})}))},logged_in:n,account:l}),Object(C.jsx)(he,{default_link:Oe,logged_in:n,account:l})]})}s.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(l.a,{children:Object(C.jsx)(pe,{})})}),document.getElementById("root"))},37:function(e,t,n){}},[[163,1,2]]]);
//# sourceMappingURL=main.23be76c9.chunk.js.map